### Проект "API для сервиса YaMDb"
## О YaMDb
Проект YaMDb собирает отзывы пользователей на произведения. Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку. Произведения делятся на категории, такие как «Книги», «Фильмы», «Музыка». Например, в категории «Книги» могут быть произведения «Винни-Пух и все-все-все» и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Жуки» и вторая сюита Баха. Список категорий может быть расширен. Произведению может быть присвоен жанр из списка предустановленных (например, «Сказка», «Рок» или «Артхаус»).

## Используемый стэк
Для разработки backend составляющей сервиса YaMDb использовался следующий стэк:

Python 3.9
Django 3.2
Django REST Framework 3.12
SQLite
Пользовательские роли и права доступа
Аноним — может просматривать описания произведений, читать отзывы и комментарии.
Аутентифицированный пользователь (user) — может читать всё, как и Аноним, может публиковать отзывы и ставить оценки произведениям (фильмам/книгам/песенкам), может комментировать отзывы; может редактировать и удалять свои отзывы и комментарии, редактировать свои оценки произведений. Эта роль присваивается по умолчанию каждому новому пользователю.
Модератор — те же права, что и у Аутентифицированного пользователя, плюс право удалять и редактировать любые отзывы и комментарии.
Администратор (admin) — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.
Как запустить проект:
Клонировать репозиторий и перейти в него, используя командную строку:

git clone https://github.com/eturubanov/api_yamdb.git
cd api_yamdb
Создать и активировать виртуальное окружение:

python -m venv venv
source venv/scripts/activate
Установить зависимости из файла requirements.txt:

python -m pip install --upgrade pip
pip install -r requirements.txt
Применить миграции:

python manage.py makemigrations
Выполнить миграции:

python manage.py migrate
Загрузить коллекцию предустановленных данных в базу данных:

Через админ-панель выгрузить csv-файлы

Запустить проект:

python manage.py runserver
Документация
После запуска проекта статичная документация с указанием всех реализованных эндпоинтов будет доступна по адресу: http://127.0.0.1:8000/redoc/

API-токен
Большая часть операций взаимодействия с backend-сервером требует наличия JWT-токена. Получить его можно после регистрации по следующему адресу:

POST http://127.0.0.1:8000/api/v1/auth/signup/

Запрос при этом выглядит следующим образом:

```
{
    "email": "user@example.com",
    "username": "string"
}
```

После успешной регистрации на указанную вами электронную почту поступит письмо, содержащее код подтверждения, необходимый для получения JWT-токена. Его можно получить, отправив POST-запрос на адрес:

POST http://127.0.0.1:8000/api/v1/auth/token/

При этом запрос имеет следующую структуру:

```
{
  "username": "string",
  "confirmation_code": "string"
}
```

После получения JWT-токена, его необходимо добавить к заголовкам HTTP-запросов, добавив перед этим слово 'Bearer':

Bearer ваш_токен

Примеры запросов
Получить информацию по произведению.
GET http://127.0.0.1:8000/api/v1/titles/1/

Пример ответа:

```
{
  "id": 0,
  "name": "string",
  "year": 0,
  "rating": 0,
  "description": "string",
  "genre": [
    {
      "name": "string",
      "slug": "string"
    }
  ],
  "category": {
    "name": "string",
    "slug": "string"
  }
}
```

Получить список всех произведений.
GET http://127.0.0.1:8000/api/v1/titles/

Пример ответа:

```
{
  "count": 0,
  "next": "string",
  "previous": "string",
  "results": [
    {
      "id": 0,
      "name": "string",
      "year": 0,
      "rating": 0,
      "description": "string",
      "genre": [
        {
          "name": "string",
          "slug": "string"
        }
      ],
      "category": {
        "name": "string",
        "slug": "string"
      }
    }
  ]
}
```

Добавление нового отзыва. Публиковать отзывы и комментарии могут только аутентифицированные пользователи.
POST http://127.0.0.1:8000/api/v1/titles/{title_id}/reviews/

```
{
  "text": "string",
  "score": 1
}
```
Пример ответа:

```
{
  "id": 0,
  "text": "string",
  "author": "string",
  "score": 1,
  "pub_date": "2019-08-24T14:15:22Z"
}
```
Авторы
Студенты курса "Python-разработчик плюс" от Яндекс-Практикума:

Александр Кулаков, Александр Зарицкий

Разработал всю часть, касающуюся управления пользователями:

систему регистрации и аутентификации,
права доступа,
работу с токеном,
систему подтверждения через e-mail.

Александр Зарицкий

Работал над: моделями, представлениями и эндпоинтами для:

произведений,
категорий,
жанров.
А также реализовал импорт данных из CSV-файла в базу данных.

Разработал: модели, представления и эндпоинты для:

отзывов;
комментариев;
рейтинга произведений.
